<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <script type="text/javascript" src="./js/jquery-3.1.0.min.js"></script>
</head>
<body>
    <p><input type="checkbox" name="fruits" value="apple"/> 苹果</p>
    <p><input type="checkbox" name="fruits" value="pear"/> 梨</p>
    <p><input type="checkbox" name="fruits" value="banana"/> 香蕉</p>
    <p><input type="checkbox" name="fruits" value="purple"/> 葡萄</p>
    <p><input type="checkbox" name="fruits" value="lemon"/> 柠檬</p>
    <p><input type="checkbox" id="all"/><span id="all_span">全选</span></p>
    <script type="text/javascript">
//        document.getElementById('all').onclick = function () {
//            // 获取全选的状态（选中：true ,未选中：false）
//            var all_flag = document.getElementById('all').checked;
//            // 通过名字来获取所有的复选框
//            var fruits = document.getElementsByName('fruits');
//            for (var i = 0;i < fruits.length;i++) {
//                fruits[i].checked = all_flag;
//            }
//        }
        $('#all_span').click(function () {
            // $('all').prop({'checked':'checked'});
            var all_flag = $('#all').attr('checked');
            alert(all_flag);
        })
        $('#all').click(function () {
            var all_flag = $('#all').prop('checked');
            var fruits = $('input[name="fruits"]').prop({'checked':all_flag});
//            for (var i = 0;i < fruits.length;i++) {
//                fruits[i].checked = all_flag; // jQuery变JS;
//                fruits.eq(i).prop({'checked':all_flag})
//            }
        })

    </script>
</body>
</html>